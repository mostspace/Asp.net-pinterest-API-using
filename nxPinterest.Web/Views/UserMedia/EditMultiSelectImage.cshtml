@model EditMultiSelectImageViewModel
@{
    ViewData["Title"] = "個別編集";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="~/js/upload_file.js" asp-append-version="true"></script>
<script src="~/lib/bootstrap-fileinput/js/fileinput.min.js" asp-append-version="true"></script>
<script src="~/lib/bootstrap-tagsinput/bootstrap-tagsinput.min.js" asp-append-version="true"></script>

<script class="jsbin" src="https://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<div class="left-arrow-container">
	<a href="#" onclick="history.back(-1);return false;">
        <i class="fas fa-arrow-left fa-2x"></i>
    </a>
</div>

<div class="container mt-5 bg-white" style="padding: 25px;">
    <div class="form-text text-danger">
      @if (TempData["custom-validation-message"] != null)
      {
      <div class="col-lg-12 col-md-12 col-sm-12 mb-3 alert alert-danger alert-dismissible fade show" role="alert">
        <span>@TempData["custom-validation-message"]</span>
        <button type="button" class="close" data-dismiss="alert" aria-label="Close" style="background: none;border-style: none;float: right;">
            <span aria-hidden="true">&times;</span>
        </button>
      </div><br />
      }
    </div>

    <form class="text-color-white" method="post" enctype="multipart/form-data" asp-action="UpdateMultiSelectMediaFile" asp-controller="UserMedia" name="dropzoneForm" id="dropzoneForm">
        <div class="row mt-3 mb-5">
            <input type="hidden" asp-for="@Model.DetailsMediaId" />
            <div class="col">
                <input type="button" value="保存" class="btn btn-default register-btn" onclick="submit();" />
            </div>
            @for (int i = 0; i < Model.UserMediaList.Count(); i++)
            {
@*                <input hidden asp-for="@Model.UserMediaList[@i].MediaTitle" />
                <input hidden asp-for="@Model.UserMediaList[@i].MediaDescription" />
                <input hidden asp-for="@Model.UserMediaList[@i].OriginalTags" />*@
                <div style="margin-top:20px;">
                </div>
                <div class='row'>
                    <div class='col-5'>
		                <img src='@Model.UserMediaList[@i].MediaSmallUrl' class="img-thumbnail img-thum" alt='ホーム画像'/>
	                </div>
	                <div class='col-7'>
		                <div class='tag_list_wrapper'>
			                <input type="hidden" asp-for="@Model.UserMediaList[@i].MediaId" />
			                <input type="text" class="form-control input-control input-title px-0" placeholder="タイトル" asp-for="@Model.UserMediaList[@i].MediaTitle" />
			                <input type="text" class="form-control input-control input-title px-0" placeholder="説明" asp-for="@Model.UserMediaList[@i].MediaDescription" />
			                <div class="tag-control-container" id="style">
				                <p class="tag-text" style="color: #adb5bd; ">タグ</p>
				                <input data-role="tagsinput" asp-for="@Model.UserMediaList[@i].OriginalTags" />
			                </div>
		                </div>
	                </div>
                </div>
                }
        </div>
    </form>
@*    <form class="text-color-white" method="post" enctype="multipart/form-data" asp-action="UploadImageFileHidden" asp-controller="UserMedia" name="hiddenForm" id="hiddenForm">
        <div id="item-hidden">
        </div>
    </form>*@
</div>
@*<script>
$('#hiddenForm').on('keyup keypress', function(e) {
  var keyCode = e.keyCode || e.which;
  if (keyCode === 13) { 
    e.preventDefault();
    return false;
  }
});
$('#dropzoneForm').on('keyup keypress', function(e) {
  var keyCode = e.keyCode || e.which;
  if (keyCode === 13) { 
    e.preventDefault();
    return false;
  }
});
</script>*@
